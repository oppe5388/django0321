{% extends 'layout.html' %}
{% load static %}
{% block title %}FAX当番{% endblock %}

{% block extra_head %}
<!-- CSS -->
<link href="{% static 'jquery-sortable.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}

<div class="px-0 mx-0">
	<div class="d-flex">

		<div class="d-flex flex-column col">
		<h5 class="row ohiru mx-auto px-1">　</h5>
		<ul class='example block connect-area'>

			<li><ul class="op">坂入
				<li><ul class="kakari">相殺</ul></li>
			</ul></li>
			<li><ul class="op">菅原</ul></li>
		</ul>
		</div>

		<div class="d-flex flex-column col">
		<h5 class="row ohiru mx-auto px-1">11:40～12:30</h5>
		<ul class='example block connect-area'>
			<li><ul class="op">御園
				<li><ul class="kakari">リスト</ul></li>
				<li><ul class="fax">09:30～</ul></li>
				<li><ul class="fax">12:30～</ul></li>
				<li><ul class="fax">15:30～</ul></li>
			</ul></li>  
		  

		</ul>
		</div>

		<div class="d-flex flex-column col">
		<h5 class="row ohiru mx-auto px-1">12:00～12:50</h5>
		<ul class='example block connect-area'>
		</ul>
		</div>

		<div class="d-flex flex-column col">
		<h5 class="row ohiru mx-auto px-1">12:30～13:20</h5>
		<ul class='example block connect-area'>
			<li><ul class="op">市川
				<li><ul class="kakari">U直</ul></li>
				<li><ul class="fax">10:30～</ul></li>
				<li><ul class="fax">13:30～</ul></li>
				<li><ul class="fax">17:30～</ul></li>
			</ul></li>


		</ul>
		</div>

		<div class="d-flex flex-column col">
		<h5 class="row ohiru mx-auto px-1">13:20～14:10</h5>
		<ul class='example block connect-area'>
			<li><ul class="op">藤岡
				<li><ul class="kakari">名変</ul></li>
				<li><ul class="fax">11:30～</ul></li>
				<li><ul class="fax">14:30～</ul></li>
				<li><ul class="fax">16:30～</ul></li>
				<li><ul class="fax">18:30～</ul></li>
			</ul></li>


		</ul>
		</div>

	</div>


	<!-- 2行目 -->
	<div class="d-flex">
		<div class="d-flex flex-column col-3">
			<h5 class="row ohiru mx-auto px-1">LD</h5>
			<ul class='example block connect-area'>
			<li><ul class="op">尾凪</ul></li>
			  <li>
			  	<ul class="op">大磯
				  	<li><ul class="kakari">U直チェック</ul></li>
			  		<li><ul class="kakari">名変チェック</ul></li>
		  		</ul></li>
			  <li><ul class="op">太田</ul></li>
			  <li><ul class="op">木下</ul></li>
			</ul>
		</div>
		<div class="d-flex flex-column col-3">
			<h5 class="row ohiru mx-auto px-1">休</h5>
			<ul class='example block connect-area'>
				<li><ul class="op">福田</ul></li>
		  		<li><ul class="op">石嶋</ul></li>
			</ul>
		</div>
	</div>

</div>

<div class="span4">
  <ul class="limited_drop_targets vertical">
    <li>Item 2</li>
    <li class="" style="">Item 4</li>
    <li class="highlight">Item 3</li>
    <li class="highlight">Item 5</li>
    <li>Item 6</li>
  </ul>
</div>

<pre id="serialize_output"></pre>
<!-- <p id="serialize_output"></p> -->

<!-- Javascript -->
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src='{% static 'jquery-sortable.js' %}'></script>
<script type="text/javascript">
	$(function() {
		// $("ul.example").sortable({
		// 	group: 'connect-area'
		// });
	});


	// 作り変える
	var group = $("ul.example").sortable({
	  group: 'connect-area',
	  onDrop: function ($item, container, _super) {
	    $('#serialize_output').text(
	      // group.sortable("serialize").get().join("\n"));
	      group.sortable("serialize").get().join("\n■"));
	    _super($item, container);
	  },
	  serialize: function (parent, children, isContainer) {
	    return isContainer ? children.join() : parent.text();
	  },
	});
	// 作り変えるここまで

	// // オリジナル
	// var group = $("ul.limited_drop_targets").sortable({
	//   group: 'limited_drop_targets',
	//   isValidTarget: function  ($item, container) {
	//     if($item.is(".highlight"))
	//       return true;
	//     else
	//       return $item.parent("ul")[0] == container.el[0];
	//   },
	//   onDrop: function ($item, container, _super) {
	//     $('#serialize_output').text(
	//       group.sortable("serialize").get().join("\n"));
	//     _super($item, container);
	//   },
	//   serialize: function (parent, children, isContainer) {
	//     return isContainer ? children.join() : parent.text();
	//   },
	//   tolerance: 6,
	//   distance: 10
	// });
	// // オリジナルここまで


</script>

<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script> -->


{% endblock %}